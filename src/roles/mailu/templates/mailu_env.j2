# Mailu main configuration
# Generated by Ansible - do not edit manually
# This file is mounted as a docker volume

# Common variables
SECRET_KEY={{ mailu_secret_key }}
DOMAIN={{ primary_domain }}
HOSTNAMES={{ mailu_hostnames | join(",") }}
SUBNET={{ mailu_subnet }}
TLS_FLAVOR={{ mailu_tls_flavor }}

# Main mail domain
POSTMASTER=postmaster
COMPOSE_PROJECT_NAME=mailu

# Services to enable
{% if mailu_enable_imap %}IMAP_ENABLED=true{% else %}IMAP_ENABLED=false{% endif %}
{% if mailu_enable_pop3 %}POP3_ENABLED=true{% else %}POP3_ENABLED=false{% endif %}
{% if mailu_enable_smtp %}SMTP_ENABLED=true{% else %}SMTP_ENABLED=false{% endif %}
{% if mailu_enable_imaps %}IMAPS_ENABLED=true{% else %}IMAPS_ENABLED=false{% endif %}
{% if mailu_enable_pop3s %}POP3S_ENABLED=true{% else %}POP3S_ENABLED=false{% endif %}
{% if mailu_enable_smtps %}SMTPS_ENABLED=true{% else %}SMTPS_ENABLED=false{% endif %}
{% if mailu_enable_submission %}SUBMISSION_ENABLED=true{% else %}SUBMISSION_ENABLED=false{% endif %}
{% if mailu_enable_webmail %}WEBMAIL=roundcube{% else %}WEBMAIL=none{% endif %}
{% if mailu_enable_admin %}ADMIN=true{% else %}ADMIN=false{% endif %}

# Anti-spam & anti-virus settings
{% if mailu_antispam %}ANTISPAM=true{% else %}ANTISPAM=false{% endif %}
{% if mailu_antivirus %}ANTIVIRUS=true{% else %}ANTIVIRUS=false{% endif %}
SPAM_THRESHOLD={{ mailu_spam_threshold }}
{% if mailu_reject_spam %}REJECT_SPAM=true{% else %}REJECT_SPAM=false{% endif %}

# Database settings - using SQLite by default
DB_FLAVOR=sqlite

# Container resource limits
MEMORY_LIMIT={{ mailu_memory_limit }}
MEMORY_RESERVATION={{ mailu_memory_reservation }}
CPU_LIMIT={{ mailu_cpu_limit }}